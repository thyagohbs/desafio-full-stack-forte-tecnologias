@if (employee) {
<div class="container">
  <div class="header">
    <h1>Ativos de {{ employee.name }}</h1>
    <button
      mat-raised-button
      color="primary"
      (click)="openAssociateAssetDialog()"
    >
      <mat-icon>add</mat-icon>
      Associar Novo Ativo
    </button>
  </div>

  @if (associatedAssets.length > 0) {
  <mat-card>
    <mat-card-header>
      <mat-card-title>Ativos Associados</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-list role="list">
        @for (asset of associatedAssets; track asset.id) {
        <mat-list-item role="listitem">
          <mat-icon matListItemIcon>{{
            asset.type === 'Notebook'
              ? 'laptop'
              : asset.type === 'Monitor'
              ? 'desktop_windows'
              : 'devices'
          }}</mat-icon>
          <div matListItemTitle>{{ asset.name }}</div>
          <div matListItemLine>
            Tipo: {{ asset.type }} | Status: {{ asset.status }}
          </div>
          <div matListItemMeta>
            <button
              mat-icon-button
              color="warn"
              (click)="dissociateAsset(asset.id)"
              matTooltip="Desassociar Ativo"
            >
              <mat-icon>link_off</mat-icon>
            </button>
          </div>
        </mat-list-item>
        }
      </mat-list>
    </mat-card-content>
  </mat-card>
  } @else {
  <mat-card class="no-assets-card">
    <mat-card-content>
      <p>Este funcionário não possui ativos associados no momento.</p>
    </mat-card-content>
  </mat-card>
  }
</div>
} @else {
<div class="loading-container">
  <p>Carregando dados do funcionário...</p>
</div>
}